<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="../icons/favicon.ico">
    <title>æˆ‘çš„éŸ³ä¹æ’­æ”¾å™¨</title>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .player {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            width: 100%;
            max-width: 400px;
        }

        .album-art {
            width: 100%;
            height: 300px;
            background: #2c3e50;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .album-art img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .album-art .overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.7));
            color: white;
            padding: 20px;
        }

        .controls {
            padding: 20px;
        }

        .song-info {
            margin-bottom: 20px;
        }

        .song-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .artist {
            color: #666;
            font-size: 16px;
        }

        .progress-container {
            margin-bottom: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: #eee;
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 10px;
            cursor: pointer;
        }

        .progress {
            width: 0%;
            height: 100%;
            background: #667eea;
            transition: width 0.1s linear;
        }

        .time {
            display: flex;
            justify-content: space-between;
            color: #666;
            font-size: 14px;
        }

        .control-buttons {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            margin-bottom: 30px;
        }

        .control-btn {
            background: none;
            border: none;
            font-size: 24px;
            color: #667eea;
            cursor: pointer;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.3s;
        }

        .control-btn:hover {
            background: #f0f0f0;
        }

        .play-btn {
            width: 60px;
            height: 60px;
            background: #667eea;
            color: white;
            font-size: 28px;
        }

        .play-btn:hover {
            background: #5a67d8;
        }

        .volume-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .volume-slider {
            flex: 1;
            height: 4px;
            background: #eee;
            border-radius: 2px;
            outline: none;
            --webkit-appearance: none;
        }

        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            background: #667eea;
            border-radius: 50%;
            cursor: pointer;
        }

        .hidden-video {
            display: none;
        }

        .playlist-controls {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }

        .playlist-controls h3 {
            margin-top: 15px;
            margin-bottom: 10px;
            color: #333;
            font-size: 18px;
        }

        .add-song-form {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .add-song-form input {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }

        .add-song-form button {
            padding: 10px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }

        .add-song-form button:hover {
            background: #5a67d8;
        }

        .playlist h4 {
            margin-bottom: 10px;
            color: #333;
        }

        .playlist ul {
            list-style: none;
            max-height: 200px;
            overflow-y: auto;
            padding: 0;
        }

        .playlist li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            border-bottom: 1px solid #eee;
            background: #f9f9f9;
        }

        .playlist li.current {
            background: #e6f0ff;
            font-weight: bold;
        }

        .playlist li:hover {
            background: #f0f0f0;
        }

        .playlist-song-info {
            flex: 1;
        }

        .playlist-song-title {
            font-weight: bold;
            margin-bottom: 3px;
        }

        .playlist-song-artist {
            font-size: 12px;
            color: #666;
        }

        .playlist-song-actions {
            display: flex;
            gap: 5px;
        }

        .playlist-btn {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 14px;
            padding: 5px;
            border-radius: 3px;
        }

        .play-btn-small {
            color: #667eea;
        }

        .delete-btn {
            color: #e74c3c;
        }

        .playlist-btn:hover {
            background: #e0e0e0;
        }
    </style>
</head>

<body>
    <div class="player">
        <div class="album-art">
            <img id="albumCover"
                src="https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"
                alt="ä¸“è¾‘å°é¢">
            <div class="overlay">
                <div class="song-title" id="songTitle">Summer Vibes</div>
                <div class="artist" id="artist">Chill Music</div>
            </div>
        </div>

        <div class="controls">
            <div class="progress-container">
                <div class="progress-bar" id="progressBar">
                    <div class="progress" id="progress"></div>
                </div>
                <div class="time">
                    <span id="currentTime">00:00</span>
                    <span id="duration">00:00</span>
                </div>
            </div>

            <div class="control-buttons">
                <button class="control-btn" id="prevBtn">â®</button>
                <button class="control-btn play-btn" id="playBtn">â–¶</button>
                <button class="control-btn" id="nextBtn">â­</button>
            </div>

            <div class="volume-container">
                <span>ğŸ”Š</span>
                <input type="range" class="volume-slider" id="volumeSlider" min="0" max="100" value="80">
            </div>

            <!-- æ’­æ”¾åˆ—è¡¨æ§åˆ¶ -->
            <div class="playlist-controls">
                <div class="playlist">
                    <h4>å½“å‰æ’­æ”¾åˆ—è¡¨ (<span id="playlistCount">0</span> é¦–æ­Œæ›²)</h4>
                    <ul id="playlist"></ul>
                </div>

                <h3>æ’­æ”¾åˆ—è¡¨ç®¡ç†</h3>
                <div class="add-song-form">
                    <input type="text" id="songTitleInput" placeholder="æ­Œæ›²æ ‡é¢˜">
                    <input type="text" id="artistInput" placeholder="è‰ºæœ¯å®¶">
                    <input type="text" id="srcInput" placeholder="éŸ³é¢‘é“¾æ¥">
                    <input type="text" id="coverInput" placeholder="å°é¢é“¾æ¥(å¯é€‰)">
                    <button id="addSongBtn">æ·»åŠ æ­Œæ›²</button>
                    <button id="savePlaylistBtn">ä¿å­˜æ’­æ”¾åˆ—è¡¨</button>
                </div>
            </div>
        </div>
    </div>

    <!-- éšè—çš„ video æ ‡ç­¾ç”¨äºæ’­æ”¾éŸ³é¢‘ -->
    <video id="audioPlayer" class="hidden-video">
        <source src="https://ting8.yymp3.com/new25/2013ndxgst11/193.mp3" type="audio/mpeg">
    </video>

    <script>
        class AudioPlayer {
            constructor() {
                this.video = document.getElementById('audioPlayer');
                this.playBtn = document.getElementById('playBtn');
                this.prevBtn = document.getElementById('prevBtn');
                this.nextBtn = document.getElementById('nextBtn');
                this.progressBar = document.getElementById('progressBar');
                this.progress = document.getElementById('progress');
                this.currentTimeEl = document.getElementById('currentTime');
                this.durationEl = document.getElementById('duration');
                this.volumeSlider = document.getElementById('volumeSlider');
                this.albumCover = document.getElementById('albumCover');
                this.songTitle = document.getElementById('songTitle');
                this.artist = document.getElementById('artist');

                this.playlist = [
                    {
                        title: "Summer Vibes",
                        artist: "Chill Music",
                        src: "https://ting8.yymp3.com/new17/dengziqi3/12.mp3",
                        cover: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"
                    },
                    {
                        title: "Summer Vibes",
                        artist: "Chill Music",
                        src: "https://ting8.yymp3.com/new18/liuzhe/5.mp3",
                        cover: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"
                    },
                    {
                        title: "Tech House",
                        artist: "Electronic",
                        src: "https://ting8.yymp3.com/new27/jinzhiwen3/3.mp3",
                        cover: "https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"
                    },
                    {
                        title: "Tech House",
                        artist: "Electronic",
                        src: "https://ting8.yymp3.com/new25/chenxi5/13.mp3",
                        cover: "https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"
                    },
                    {
                        title: "Tech House",
                        artist: "Electronic",
                        src: "https://ting8.yymp3.com/new27/mljyyj/1.mp3",
                        cover: "https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"
                    },
                    {
                        title: "Driving Ambition",
                        artist: "Motivation",
                        src: "https://ting8.yymp3.com/new24/yangzhongwei4/16.mp3",
                        cover: "https://images.unsplash.com/photo-1518609878373-06d740f60d8b?ixlib=rb-1.2.1&auto=format&fit=crop&w-1350&q=80"
                    }
                ];

                this.currentTrack = 0;

                // è·å–ç”¨æˆ·å
                this.username = localStorage.getItem('username') || 'default_user';

                // åˆå§‹åŒ–IndexedDB
                this.initDB().then(() => {
                    // åˆå§‹åŒ–æ’­æ”¾å™¨
                    this.init();
                }).catch((error) => {
                    console.error('åˆå§‹åŒ–æ•°æ®åº“å¤±è´¥:', error);
                    // å³ä½¿æ•°æ®åº“åˆå§‹åŒ–å¤±è´¥ï¼Œä¹Ÿç»§ç»­åˆå§‹åŒ–æ’­æ”¾å™¨
                    this.init();
                });
            }

            // åˆå§‹åŒ–IndexedDB
            initDB() {
                return new Promise((resolve, reject) => {
                    const dbName = `MusicPlayerDB_${this.username}`;
                    const request = indexedDB.open(dbName, 1);

                    request.onerror = (event) => {
                        console.error('æ•°æ®åº“æ‰“å¼€å¤±è´¥:', event.target.error);
                        reject(event.target.error);
                    };

                    request.onsuccess = (event) => {
                        this.db = event.target.result;
                        console.log('æ•°æ®åº“æ‰“å¼€æˆåŠŸï¼Œç”¨æˆ·:', this.username);
                        resolve();
                    };

                    request.onupgradeneeded = (event) => {
                        const db = event.target.result;

                        // å¦‚æœå¯¹è±¡å­˜å‚¨ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºå®ƒ
                        if (!db.objectStoreNames.contains('playlists')) {
                            const objectStore = db.createObjectStore('playlists', { keyPath: 'id', autoIncrement: true });
                            objectStore.createIndex('timestamp', 'timestamp', { unique: false });
                        }
                    };
                });
            }

            // ä¿å­˜æ’­æ”¾åˆ—è¡¨åˆ°IndexedDB
            async savePlaylistToDB() {
                if (!this.db) {
                    console.error('æ•°æ®åº“æœªåˆå§‹åŒ–');
                    return false;
                }

                try {
                    const transaction = this.db.transaction(['playlists'], 'readwrite');
                    const objectStore = transaction.objectStore('playlists');

                    // æ¸…é™¤ç°æœ‰çš„æ’­æ”¾åˆ—è¡¨æ•°æ®
                    await new Promise((resolve, reject) => {
                        const clearRequest = objectStore.clear();
                        clearRequest.onsuccess = () => resolve();
                        clearRequest.onerror = (event) => reject(event.target.error);
                    });

                    // æ·»åŠ å½“å‰æ’­æ”¾åˆ—è¡¨
                    for (const track of this.playlist) {
                        await new Promise((resolve, reject) => {
                            const addRequest = objectStore.add({
                                ...track,
                                timestamp: Date.now()
                            });
                            addRequest.onsuccess = () => resolve();
                            addRequest.onerror = (event) => reject(event.target.error);
                        });
                    }

                    console.log('æ’­æ”¾åˆ—è¡¨å·²ä¿å­˜åˆ°IndexedDBï¼Œç”¨æˆ·:', this.username);
                    return true;
                } catch (error) {
                    console.error('ä¿å­˜æ’­æ”¾åˆ—è¡¨å¤±è´¥:', error);
                    return false;
                }
            }

            // ä»IndexedDBåŠ è½½æ’­æ”¾åˆ—è¡¨
            async loadPlaylistFromDB() {
                if (!this.db) {
                    console.error('æ•°æ®åº“æœªåˆå§‹åŒ–');
                    return false;
                }

                try {
                    const transaction = this.db.transaction(['playlists'], 'readonly');
                    const objectStore = transaction.objectStore('playlists');

                    const request = objectStore.getAll();

                    return new Promise((resolve, reject) => {
                        request.onsuccess = (event) => {
                            const tracks = event.target.result;
                            if (tracks && tracks.length > 0) {
                                this.playlist = tracks;
                                console.log('ä»IndexedDBåŠ è½½äº†', tracks.length, 'é¦–æ­Œæ›²ï¼Œç”¨æˆ·:', this.username);
                                resolve(true);
                            } else {
                                console.log('IndexedDBä¸­æ²¡æœ‰æ’­æ”¾åˆ—è¡¨æ•°æ®ï¼Œç”¨æˆ·:', this.username);
                                resolve(false);
                            }
                        };

                        request.onerror = (event) => {
                            console.error('åŠ è½½æ’­æ”¾åˆ—è¡¨å¤±è´¥:', event.target.error);
                            reject(event.target.error);
                        };
                    });
                } catch (error) {
                    console.error('åŠ è½½æ’­æ”¾åˆ—è¡¨å¤±è´¥:', error);
                    return false;
                }
            }

            init() {
                // è®¾ç½®åˆå§‹éŸ³é‡
                this.video.volume = this.volumeSlider.value / 100;

                // ç»‘å®šäº‹ä»¶
                this.bindEvents();

                // ä»IndexedDBåŠ è½½æ’­æ”¾åˆ—è¡¨ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
                this.loadPlaylistFromDB().then((loaded) => {
                    if (!loaded) {
                        // å¦‚æœæ²¡æœ‰ä»IndexedDBåŠ è½½ï¼Œåˆ™ä½¿ç”¨é»˜è®¤æ’­æ”¾åˆ—è¡¨
                        console.log('ä½¿ç”¨é»˜è®¤æ’­æ”¾åˆ—è¡¨');
                    }

                    // åŠ è½½ç¬¬ä¸€é¦–æ­Œæ›²
                    this.loadTrack(this.currentTrack);

                    // åˆå§‹åŒ–æ’­æ”¾åˆ—è¡¨æ˜¾ç¤º
                    this.updatePlaylistDisplay();
                }).catch((error) => {
                    console.error('åŠ è½½æ’­æ”¾åˆ—è¡¨å¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤æ’­æ”¾åˆ—è¡¨:', error);

                    // åŠ è½½ç¬¬ä¸€é¦–æ­Œæ›²
                    this.loadTrack(this.currentTrack);

                    // åˆå§‹åŒ–æ’­æ”¾åˆ—è¡¨æ˜¾ç¤º
                    this.updatePlaylistDisplay();
                });
            }

            bindEvents() {
                // æ’­æ”¾/æš‚åœæŒ‰é’®
                this.playBtn.addEventListener('click', () => this.togglePlay());

                // ä¸Šä¸€é¦–/ä¸‹ä¸€é¦–
                this.prevBtn.addEventListener('click', () => this.prevTrack());
                this.nextBtn.addEventListener('click', () => this.nextTrack());

                // è¿›åº¦æ¡ç‚¹å‡»
                this.progressBar.addEventListener('click', (e) => {
                    const rect = this.progressBar.getBoundingClientRect();
                    const percent = (e.clientX - rect.left) / rect.width;
                    this.video.currentTime = percent * this.video.duration;
                });

                // éŸ³é‡æ§åˆ¶
                this.volumeSlider.addEventListener('input', (e) => {
                    this.video.volume = e.target.value / 100;
                });

                // æ’­æ”¾åˆ—è¡¨ç®¡ç†
                document.getElementById('addSongBtn').addEventListener('click', () => this.addSong());
                document.getElementById('savePlaylistBtn').addEventListener('click', () => this.savePlaylist());
                document.getElementById('songTitleInput').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') this.addSong();
                });
                document.getElementById('artistInput').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') this.addSong();
                });
                document.getElementById('srcInput').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') this.addSong();
                });
                document.getElementById('coverInput').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') this.addSong();
                });

                // è§†é¢‘äº‹ä»¶ç›‘å¬
                this.video.addEventListener('timeupdate', () => this.updateProgress());
                this.video.addEventListener('loadedmetadata', () => this.updateDuration());
                this.video.addEventListener('ended', () => this.nextTrack());
                this.video.addEventListener('play', () => this.updatePlayButton(true));
                this.video.addEventListener('pause', () => this.updatePlayButton(false));
            }

            // ä¿å­˜æ’­æ”¾åˆ—è¡¨æŒ‰é’®äº‹ä»¶
            async savePlaylist() {
                const success = await this.savePlaylistToDB();
                if (success) {
                    alert(`æ’­æ”¾åˆ—è¡¨å·²ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨ï¼Œç”¨æˆ·: ${this.username}`);
                } else {
                    alert('ä¿å­˜æ’­æ”¾åˆ—è¡¨å¤±è´¥');
                }
            }

            loadTrack(index) {
                if (index < 0 || index >= this.playlist.length) return;

                this.currentTrack = index;
                const track = this.playlist[index];

                // æ›´æ–°éŸ³é¢‘æº
                this.video.src = track.src;

                // æ›´æ–°ç•Œé¢
                this.albumCover.src = track.cover;
                this.songTitle.textContent = track.title;
                this.artist.textContent = track.artist;

                // æ›´æ–°æ’­æ”¾æŒ‰é’®
                this.updatePlayButton(false);

                // è‡ªåŠ¨æ’­æ”¾ï¼ˆå—æµè§ˆå™¨ç­–ç•¥é™åˆ¶ï¼‰
                this.video.play().catch(e => {
                    console.log('è‡ªåŠ¨æ’­æ”¾è¢«é˜»æ­¢ï¼Œéœ€è¦ç”¨æˆ·äº¤äº’');
                });
            }

            togglePlay() {
                if (this.video.paused) {
                    this.video.play();
                } else {
                    this.video.pause();
                }
            }

            updatePlayButton(isPlaying) {
                this.playBtn.textContent = isPlaying ? 'â¸' : 'â–¶';
            }

            prevTrack() {
                let newIndex = this.currentTrack - 1;
                if (newIndex < 0) newIndex = this.playlist.length - 1;
                this.loadTrack(newIndex);
            }

            nextTrack() {
                let newIndex = this.currentTrack + 1;
                if (newIndex >= this.playlist.length) newIndex = 0;
                this.loadTrack(newIndex);
            }

            updateProgress() {
                if (!this.video.duration) return;

                const percent = (this.video.currentTime / this.video.duration) * 100;
                this.progress.style.width = `${percent}%`;
                this.currentTimeEl.textContent = this.formatTime(this.video.currentTime);
            }

            updateDuration() {
                if (this.video.duration) {
                    this.durationEl.textContent = this.formatTime(this.video.duration);
                }
            }

            formatTime(seconds) {
                if (isNaN(seconds)) return '00:00';

                const mins = Math.floor(seconds / 60);
                const secs = Math.floor(seconds % 60);
                return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            }

            // æ·»åŠ æ­Œæ›²åˆ°æ’­æ”¾åˆ—è¡¨
            addSong() {
                const title = document.getElementById('songTitleInput').value.trim();
                const artist = document.getElementById('artistInput').value.trim();
                const src = document.getElementById('srcInput').value.trim();
                const cover = document.getElementById('coverInput').value.trim() ||
                    "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80";

                if (!title || !artist || !src) {
                    alert('è¯·å¡«å†™æ­Œæ›²æ ‡é¢˜ã€è‰ºæœ¯å®¶å’ŒéŸ³é¢‘é“¾æ¥');
                    return;
                }

                const newTrack = {
                    title: title,
                    artist: artist,
                    src: src,
                    cover: cover
                };

                this.playlist.push(newTrack);
                this.updatePlaylistDisplay();

                // æ¸…ç©ºè¾“å…¥æ¡†
                document.getElementById('songTitleInput').value = '';
                document.getElementById('artistInput').value = '';
                document.getElementById('srcInput').value = '';
                document.getElementById('coverInput').value = '';

                console.log(`å·²æ·»åŠ æ­Œæ›²: ${title} by ${artist}`);
            }

            // ä»æ’­æ”¾åˆ—è¡¨ä¸­åˆ é™¤æ­Œæ›²
            removeSong(index) {
                if (index < 0 || index >= this.playlist.length) return;

                const removedTrack = this.playlist.splice(index, 1)[0];
                console.log(`å·²åˆ é™¤æ­Œæ›²: ${removedTrack.title} by ${removedTrack.artist}`);

                // å¦‚æœåˆ é™¤çš„æ˜¯å½“å‰æ’­æ”¾çš„æ­Œæ›²ï¼Œåˆ‡æ¢åˆ°ä¸‹ä¸€é¦–
                if (index === this.currentTrack) {
                    if (this.playlist.length === 0) {
                        this.video.pause();
                        this.video.src = '';
                        this.currentTrack = -1;
                    } else {
                        this.currentTrack = index >= this.playlist.length ? 0 : index;
                        this.loadTrack(this.currentTrack);
                    }
                } else if (index < this.currentTrack) {
                    this.currentTrack--;
                }

                this.updatePlaylistDisplay();
            }

            // æ’­æ”¾æ’­æ”¾åˆ—è¡¨ä¸­çš„æŒ‡å®šæ­Œæ›²
            playTrack(index) {
                if (index < 0 || index >= this.playlist.length) return;

                this.currentTrack = index;
                this.loadTrack(index);
                this.updatePlaylistDisplay();
            }

            // æ›´æ–°æ’­æ”¾åˆ—è¡¨æ˜¾ç¤º
            updatePlaylistDisplay() {
                const playlistEl = document.getElementById('playlist');
                const playlistCountEl = document.getElementById('playlistCount');

                // æ¸…ç©ºç°æœ‰åˆ—è¡¨
                playlistEl.innerHTML = '';

                // æ›´æ–°è®¡æ•°
                playlistCountEl.textContent = this.playlist.length;

                // æ·»åŠ æ¯ä¸ªæ­Œæ›²é¡¹
                this.playlist.forEach((track, index) => {
                    const li = document.createElement('li');
                    if (index === this.currentTrack) {
                        li.classList.add('current');
                    }

                    li.innerHTML = `
                        <div class="playlist-song-info">
                            <div class="playlist-song-title">${track.title}</div>
                            <div class="playlist-song-artist">${track.artist}</div>
                        </div>
                        <div class="playlist-song-actions">
                            <button class="playlist-btn play-btn-small" onclick="player.playTrack(${index})">â–¶</button>
                            <button class="playlist-btn delete-btn" onclick="player.removeSong(${index})">ğŸ—‘</button>
                        </div>
                    `;

                    playlistEl.appendChild(li);
                });
            }
        }

        // åˆå§‹åŒ–æ’­æ”¾å™¨
        const player = new AudioPlayer();
    </script>
</body>

</html>