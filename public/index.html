<!DOCTYPE html>
<html lang="en">

<head>
    <title>myComputer</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/icons/favicon.ico">
    <link rel="stylesheet" href="/index.css">
    <script defer src="/index.js"></script>
</head>

<body>
    <div class="win-wrapper">
        <div class="win-desktop" id="desktop" role="application" aria-label="Windows11 Desktop">
            <div class="wallpaper" aria-hidden="true"></div>
            <div class="desktop-icons" id="desktopIcons" aria-hidden="false"></div>
            <!-- Taskbar -->
            <div class="taskbar" role="toolbar" aria-label="Taskbar">
                <button class="start-button" id="startButton" aria-expanded="false" aria-controls="startMenu"
                    title="Start">
                    <!-- 替换：使用图片作为开始图标（装饰性，屏蔽辅助设备） -->
                    <img src="/icons/windows.png" class="start-icon" alt="" aria-hidden="true">
                    <span class="sr-only">Start</span>
                </button>
                <!-- 任务栏右侧：时钟 -->
                <div class="taskbar-right" aria-hidden="false">
                    <div class="taskbar-clock" id="taskbarClock" aria-live="polite">--:--</div>
                </div>
            </div>

            <!-- Start menu -->
            <div class="start-menu" id="startMenu" role="menu" aria-hidden="true">
                <div class="start-user" role="menuitem">
                    <button class="start-user-btn" id="startUserBtn">你的用户</button>
                </div>
                <div class="start-menu-actions">
                    <button id="logoutBtn">注销</button>
                </div>
            </div>
            <!-- Auth overlay (login/register) -->
            <div class="auth-overlay" id="authOverlay" aria-hidden="true">
                <div class="auth-box login-box" id="loginBox" role="dialog" aria-modal="true"
                    aria-labelledby="loginTitle">
                    <h2 id="loginTitle">登录</h2>
                    <div class="form-group">
                        <label for="loginUsername">用户名</label>
                        <input id="loginUsername" type="text" placeholder="用户名" autocomplete="username">
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">密码</label>
                        <input id="loginPassword" type="password" placeholder="密码" autocomplete="current-password">
                    </div>
                    <div class="form-actions">
                        <button id="loginBtn">登录</button>
                        <button id="showRegisterBtn" class="link">注册</button>
                    </div>
                    <div class="auth-error" id="loginError"></div>
                </div>

                <div class="auth-box register-box" id="registerBox" role="dialog" aria-modal="true"
                    aria-labelledby="registerTitle" aria-hidden="true">
                    <h2 id="registerTitle">注册</h2>
                    <div class="form-group">
                        <label for="regUsername">用户名</label>
                        <input id="regUsername" type="text" placeholder="用户名">
                    </div>
                    <div class="form-group">
                        <label for="regEmail">电子邮箱</label>
                        <input id="regEmail" type="email" placeholder="邮箱">
                    </div>
                    <div class="form-group">
                        <label for="regPassword">密码</label>
                        <input id="regPassword" type="password" placeholder="密码">
                    </div>
                    <div class="form-actions">
                        <button id="registerBtn">注册</button>
                        <button id="showLoginBtn" class="link">返回登录</button>
                    </div>
                    <div class="auth-error" id="registerError"></div>
                </div>
            </div>
            <!-- Desktop custom context menu -->
            <ul class="context-menu" id="desktopContextMenu" role="menu" aria-hidden="true">
                <li class="cm-item has-sub" role="menuitem" tabindex="-1">
                    新 建
                    <ul class="submenu" role="menu">
                        <li class="cm-item" role="menuitem" tabindex="-1">文件夹</li>
                        <li class="cm-item" role="menuitem" tabindex="-1" id="cm-new-shortcut">快捷方式</li>
                    </ul>
                </li>
                <li class="cm-item has-sub" role="menuitem" tabindex="-1">
                    查 看
                    <ul class="submenu" role="menu">
                        <li class="cm-item" role="menuitem" tabindex="-1">自动排列图标</li>
                        <li class="cm-item" role="menuitem" tabindex="-1">隐藏桌面图标</li>
                        <li class="cm-item" role="menuitem" tabindex="-1">显示桌面图标</li>
                    </ul>
                </li>
                <li class="cm-item" role="menuitem" tabindex="-1">个性化</li>
            </ul>

            <!-- Icon-specific context menu (右键图标时显示) -->
            <ul class="context-menu" id="iconContextMenu" role="menu" aria-hidden="true">
                <li class="cm-item" role="menuitem" tabindex="-1" id="cm-open">打 开</li>
                <li class="cm-item has-sub" role="menuitem" tabindex="-1">
                    调 整
                    <ul class="submenu" role="menu">
                        <li class="cm-item" role="menuitem" tabindex="-1" id="cm-size-large">大图标</li>
                        <li class="cm-item" role="menuitem" tabindex="-1" id="cm-size-medium">中图标</li>
                        <li class="cm-item" role="menuitem" tabindex="-1" id="cm-size-small">小图标</li>
                    </ul>
                </li>
                <li class="cm-item" role="menuitem" tabindex="-1" id="cm-change">更 换</li>
                <li class="cm-item" role="menuitem" tabindex="-1" id="cm-delete">删 除</li>
            </ul>

            <!-- Create Shortcut Modal -->
            <div class="shortcut-modal" id="createShortcutModal" aria-hidden="true">
                <div class="shortcut-box">
                    <h3>创建快捷方式</h3>
                    <div class="form-group">
                        <label for="scName">名称</label>
                        <input id="scName" type="text" placeholder="名称">
                    </div>
                    <div class="form-group">
                        <label for="scUrl">网址</label>
                        <input id="scUrl" type="url" placeholder="https://example.com">
                    </div>
                    <div class="form-actions">
                        <button id="scCreateBtn">确定</button>
                        <button id="scCancelBtn" class="link">取消</button>
                    </div>
                    <div class="auth-error" id="scError"></div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>